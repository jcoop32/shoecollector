{% extends 'base.html' %}
{% block content %}
  <h1>Explore</h1>
  {% if shoes %}
  <p class="right-algin">Total Shoes: {{ shoes.count }}</p>
  <!-- sorting feature -->
  <!-- Dropdown Trigger -->
  <a class="dropdown-trigger" href="#" data-target="sort">Sort</a>

  <!-- Dropdown Structure -->
  <ul id="sort" class="dropdown-content">
    <!-- query for views, use GET request to sort -->
    <li><a href="?sort=brand">Brand</a></li>
    <!-- <li><a href="?sort=likes">Popular</a></li> -->
    <li><a href="?sort=price">Price (low to high)</a></li>
    <li><a href="?sort=-price">Price (high to low)</a></li>
  </ul>
    <div class="row">
    {% for shoe in shoes %}
        <div class="col s6 ">
          <a href="{% url 'details' shoe.id %}" class="black-text">
          <div class="card large hoverable">
            <div class="card-image">
              <img src="{{ shoe.img }}">
            </div>
            <div class="card-content ">
            <span class="card-title black-text flex-text">{{ shoe.brand }} - {{ shoe.modelName }}</span>
              <p>Colorway: {{ shoe.colorway }}</p>
              <p>Price: ${{ shoe.price|floatformat:"2g" }}</p>
              <p>User: <a href="{% url 'user_collection' shoe.user.username %}">{{ shoe.user.username }}</a></p>
            </div>
            <div class="card-action ">
              <a href="{% url 'details' shoe.id %}" class="black-text">View</a>
            </div>
          </div>
        </a>
        </div>
    {% endfor %}
    </div>
  {% else %}
    <p>Your shoe collection is empty.</p>
  {% endif %}

  

{% endblock %}